@using Lookup_GSCOMMON.DTOs
@inherits R_Page
@attribute [R_Page(ResourceId = "_DigitalSign")]
@inject R_ILocalizer<Lookup_GSFrontResources.Resources_Dummy_Class> _localizer

<R_StackLayout Style="width: 800px">
    <R_StackLayout Row>
        <R_ItemLayout col="4">
            <R_StackLayout Row Spacing="3">
                <R_Grid @ref="@GridRef"
                        DataSource="_viewModel.DigitalSignGrid"
                        R_GridType="@R_eGridType.Navigator"
                        R_ServiceGetListRecord="R_ServiceGetListRecordAsync"
                        R_ConductorSource="@_conductorRef"
                        Height="310px"
                        Pageable="true">
                    <R_GridColumns>
                        <R_GridTextColumn FieldName="@nameof(GSL03400DTO.CSIGN_NAME)" HeaderText="@_localizer["_SignName"]" Width="150px"></R_GridTextColumn>
                        <R_GridTextColumn FieldName="@nameof(GSL03400DTO.CSIGN_POSITION)" HeaderText="@_localizer["_SignPosition"]" Width="180px"></R_GridTextColumn>
                    </R_GridColumns>
                </R_Grid>
            </R_StackLayout>
        </R_ItemLayout>
        <R_ItemLayout col="8">
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_SignId"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="4">
                    <R_TextBox @bind-Value="@_viewModel.Data.CSIGN_ID"
                               R_ConductorSource="@_conductorRef"
                               Enabled="false"></R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_SignName"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="10">
                    <R_TextBox @bind-Value="@_viewModel.Data.CSIGN_NAME"
                               R_ConductorSource="@_conductorRef"
                               Enabled="false"></R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_SignPosition"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="10">
                    <R_TextBox @bind-Value="@_viewModel.Data.CSIGN_POSITION"
                               R_ConductorSource="@_conductorRef"
                               Enabled="false"></R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_Signature"]</R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="10">
                    <R_ImageBox @bind-Value="@_viewModel.Data.OSIGN_FILE" MaxWidth="150px" MaxHeight="150px"></R_ImageBox>
                </R_ItemLayout>
            </R_StackLayout>

            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_Notes"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="10">
                    <R_TextArea @bind-Value="@_viewModel.Data.CNOTES"
                               R_ConductorSource="@_conductorRef"
                               Enabled="false"></R_TextArea>
                </R_ItemLayout>
            </R_StackLayout>

            <R_StackLayout Row Class="mt-1">
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_UpdateBy"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="3">
                    <R_TextBox @bind-Value="@_viewModel.Data.CUPDATE_BY"
                               R_ConductorSource="@_conductorRef"
                               Enabled="false"></R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="1">
                    <R_Label>@_localizer["_Date"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="6">
                    <R_DatePicker @bind-Value="@_viewModel.Data.DUPDATE_DATE"
                                  R_ConductorSource="@_conductorRef"
                                  ShowPickerButton="false"
                                  Enabled="false"></R_DatePicker>
                </R_ItemLayout>
            </R_StackLayout>
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_CreateBy"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="3">
                    <R_TextBox @bind-Value="@_viewModel.Data.CCREATE_BY"
                               R_ConductorSource="@_conductorRef"
                               Enabled="false"></R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="1">
                    <R_Label>@_localizer["_Date"]</R_Label>
                </R_ItemLayout>

                <R_ItemLayout col="6">
                    <R_DatePicker @bind-Value="@_viewModel.Data.DCREATE_DATE"
                                  R_ConductorSource="@_conductorRef"
                                  ShowPickerButton="false"
                                  Enabled="false"></R_DatePicker>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>
    

    <R_StackLayout Row Justify="@R_eJustify.FlexEnd">
        <R_ItemLayout>
            <R_Button OnClick="Button_OnClickOkAsync" Enabled="@(_viewModel.DigitalSignGrid.Count > 0)">
                @_localizer["_OkBtn"]
            </R_Button>
            <R_Button OnClick="Button_OnClickCloseAsync">
                @_localizer["_CancelBtn"]
            </R_Button>
        </R_ItemLayout>
    </R_StackLayout>

</R_StackLayout>

<R_Conductor @ref="@_conductorRef"
             R_ViewModel="@_viewModel"
             R_IsHeader="true"
             R_ServiceGetRecord="@R_ServiceGetRecordAsync"></R_Conductor>