@using ICB00300Common.DTOs
@using ICB00300FrontResources
@inherits R_Page
@inject R_ILocalizer<Resources_Dummy_Class> _localizer

<R_StackLayout>
    <R_ItemLayout>
        <R_Grid @ref="@_gridRef"
                DataSource="@_viewModel.ProductList"
                Pageable
                PageSize="10"
                R_ConductorGridSource="_conductorRef"
                R_GridType="@R_eGridType.Batch"
                R_ServiceGetListRecord="@ServiceGetListRecord"
                R_ServiceSaveBatch="@SaveBatch"
                R_CheckBoxSelectValueChanged="CheckBoxSelectValueChanged"
                AllowDeleteRow="false"
                AllowEditRow="false"
                AllowAddNewRow="false"
                Height="300px"
                Width="60vw">
            <R_GridColumns> 
                <R_GridCheckBoxSelectColumn FieldName="@nameof(ICB00300ProductDTO.LSELECTED)" Width="30px" ShowSelectAllHeader Filterable="false" Resizable="false"/>
                <R_GridTextColumn FieldName="@nameof(ICB00300ProductDTO.CPRODUCT_ID)" HeaderText="@_localizer["ProductId"]" Width="200px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridTextColumn FieldName="@nameof(ICB00300ProductDTO.CPRODUCT_NAME)" HeaderText="@_localizer["ProductName"]" Width="200px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridTextColumn FieldName="@nameof(ICB00300ProductDTO.CFAILED)" HeaderText="@_localizer["Failed"]" Width="200px" TextAlignment="R_eTextAlignment.Left"/>
            </R_GridColumns>
        </R_Grid>
    </R_ItemLayout>
</R_StackLayout>

<R_StackLayout Row Class="mt-3">
    <R_ItemLayout col="6">
        <R_StackLayout Row>
            <R_ItemLayout col="4">
                <R_Label>@_localizer["TotalSelected"]</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="6" Class="pe-2">
                <R_NumericTextBox Value="@_viewModel.TotalSelected" Enabled="false" Arrows="false"/>
            </R_ItemLayout>
        </R_StackLayout>
    </R_ItemLayout>
    <R_ItemLayout col="6">
        <R_StackLayout Row>
            <R_ItemLayout col="2"/>
            <R_ItemLayout col="4">
                <R_Label>@_localizer["TotalProduct"]</R_Label>
            </R_ItemLayout>
            <R_ItemLayout col="6" Class="pe-2">
                <R_NumericTextBox Value="@_viewModel.TotalProduct" Enabled="false" Arrows="false"/>
            </R_ItemLayout>
        </R_StackLayout>
    </R_ItemLayout>
</R_StackLayout>

<R_StackLayout Row>
    <R_ItemLayout col="2">
        <R_Label>@_localizer["Progress"]</R_Label>
    </R_ItemLayout>
    <R_ItemLayout col="10">
        <R_ProgressBar Label="@_viewModel.Message" MaxValue="100" Value="@_viewModel.Percentage"></R_ProgressBar>
    </R_ItemLayout>
</R_StackLayout>

<R_StackLayout Row Justify="R_eJustify.FlexEnd" AlignItems="R_eAlignItems.End" Class="mt-3">
    <R_ItemLayout>
        <R_Button OnClick="OnClickCancel">@_localizer["Cancel"]</R_Button>
    </R_ItemLayout>
    <R_ItemLayout>
        <R_Button @ref="_processButton" OnClick="OnClickProcess">@_localizer["Process"]</R_Button>
    </R_ItemLayout>
</R_StackLayout>



<R_ConductorGrid @ref="_conductorRef" 
                 R_IsHeader/>