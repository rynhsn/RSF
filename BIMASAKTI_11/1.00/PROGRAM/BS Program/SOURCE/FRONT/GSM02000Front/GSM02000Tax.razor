@page "/GSM02000Tax"
@using GSM02000Common.DTOs
@using GSM02000FrontResources
@using R_BlazorFrontEnd.Interfaces
@inherits R_Page
@inject R_ILocalizer<Resources_Dummy_Class> _localizer

<R_StackLayout Row Spacing="3">
    <R_ItemLayout col="3">
        <R_Grid @ref="@_gridSalesRef"
                DataSource="@_viewModel.SalesGridList"
                Pageable
                PageSize="22"
                R_ConductorSource="@_conductorSalesRef"
                R_GridType="R_eGridType.Navigator"
                R_ServiceGetListRecord="@GetSalesTaxList"
                Height="490px"
                Enabled="_gridEnabled">
            <R_GridColumns>
                <R_GridTextColumn FieldName="@nameof(GSM02000TaxSalesDTO.CTAX_ID)" HeaderText="@_localizer["LABEL_TAXID"]" TextAlignment="R_eTextAlignment.Left" Width="100px"/>
                <R_GridTextColumn FieldName="@nameof(GSM02000TaxSalesDTO.CTAX_NAME)" HeaderText="@_localizer["LABEL_TAXNAME"]" TextAlignment="R_eTextAlignment.Left" Width="150px"/>
            </R_GridColumns>
        </R_Grid>
    </R_ItemLayout>
    <R_ItemLayout col="9" Class="pe-3">
        <R_Grid @ref="@_gridRef"
                DataSource="@_viewModel.GridList"
                Pageable
                PageSize="21"
                R_ConductorGridSource="@_conductorRef"
                R_GridType="R_eGridType.Original"
                R_ServiceGetListRecord="@GetList"
                AllowEditRow
                AllowAddNewRow
                AllowDeleteRow
                Width="100%"
                Height="490px"
                R_ServiceGetRecord="@GetRecord"
                R_AfterAdd="@AfterAdd"
                R_Validation="@Validation"
                R_Saving="Saving"
                R_ServiceSave="Save"
                R_BeforeDelete="BeforeDelete"
                R_ServiceDelete="Delete">
            <R_GridColumns>
                <R_GridDatePickerColumn FieldName="@nameof(GSM02000TaxDTO.DTAX_DATE)" HeaderText="@_localizer["LABEL_TAXDATE"]" R_EnableAdd Width="140px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridNumericColumn TValue="decimal" FieldName="@nameof(GSM02000TaxDTO.NTAX_PERCENTAGE)" HeaderText="@_localizer["LABEL_TAXPCT"]" Min="0" Max="100" R_EnableAdd R_EnableEdit Width="100px" TextAlignment="R_eTextAlignment.Right"/>
                <R_GridTextColumn FieldName="@nameof(GSM02000TaxDTO.CUPDATE_BY)" HeaderText="@_localizer["LABEL_UPDATEDBY"]" Width="130px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridDateTimePickerColumn FieldName="@nameof(GSM02000TaxDTO.DUPDATE_DATE)" HeaderText="@_localizer["LABEL_UPDATEDDATE"]" Width="150px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridTextColumn FieldName="@nameof(GSM02000TaxDTO.CCREATE_BY)" HeaderText="@_localizer["LABEL_CREATEDBY"]" Width="130px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridDateTimePickerColumn FieldName="@nameof(GSM02000TaxDTO.DCREATE_DATE)" HeaderText="@_localizer["LABEL_CREATEDDATE"]" Width="150px" TextAlignment="R_eTextAlignment.Left"/>
            </R_GridColumns>
        </R_Grid>
    </R_ItemLayout>
</R_StackLayout>

<R_Conductor @ref="@_conductorSalesRef"
             R_ViewModel="_viewModel"
             R_IsHeader
             R_ServiceGetRecord="@GetSalesTaxRecord"/>

<R_ConductorGrid @ref="@_conductorRef"
                 R_IsHeader
                 R_SetOther="SetOther"/>