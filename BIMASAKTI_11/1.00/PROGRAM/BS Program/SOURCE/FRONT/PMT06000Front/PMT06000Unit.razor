@page "/PMT06000Unit"
@using PMT06000FrontResources
@using R_BlazorFrontEnd.Interfaces
@using PMT06000Common.DTOs
@inherits R_Page
@inject R_ILocalizer<Resources_Dummy_Class> _localizer

<R_StackLayout Row Class="mb-1">
    <R_ItemLayout col="1">
        <R_Label>
            @_localizer["SERVICE"]
        </R_Label>
    </R_ItemLayout>

    <R_ItemLayout col="2">

        <R_TextBox @bind-Value="@_viewModel.EntityService.CSERVICE_ID"
                   Enabled="false"/>

    </R_ItemLayout>
    <R_ItemLayout col="4">

        <R_TextBox @bind-Value="@_viewModel.EntityService.CSERVICE_NAME"
                   Enabled="false"/>

    </R_ItemLayout>
</R_StackLayout>

<!-- Date In -->
<R_StackLayout Row Class="mb-1">
    <R_ItemLayout col="1">
        <R_Label>@_localizer["DATE_IN"]</R_Label>
    </R_ItemLayout>
    <R_ItemLayout col="3">
        <R_DateTimePicker @bind-Value="@_viewModel.EntityService.DDATE_IN"
                          Enabled="false"/>

    </R_ItemLayout>
    <R_ItemLayout col="1" Class="text-center">
        <R_Label>@_localizer["DATE_OUT"]</R_Label>
    </R_ItemLayout>
    <R_ItemLayout col="3">
        <R_DateTimePicker @bind-Value="@_viewModel.EntityService.DDATE_OUT"
                          Enabled="false"/>
    </R_ItemLayout>
</R_StackLayout>


<R_StackLayout>
    <R_ItemLayout col="12">
        <R_Grid @ref="@_gridRefUnit"
                DataSource="@_viewModel.OvertimeUnitGridList"
                Pageable
                @bind-PageSize="@_pageSizeUnit"
                R_ConductorGridSource="@_conductorRefUnit"
                R_GridType="@R_eGridType.Original"
                R_ServiceGetListRecord="@GetOvertimeUnitListRecord"
                AllowDeleteRow="true"
                AllowEditRow="false"
                AllowAddNewRow="true"
                R_Before_Open_Grid_Lookup="BeforeLookupUnit"
                R_After_Open_Grid_Lookup="AfterLookupUnit"
                Width="100%"
                Height="265px"
                R_CheckGridAdd="CheckGridAdd"
                R_CheckGridDelete="CheckGridDelete"
                R_Validation="@Validation"
                R_ServiceGetRecord="GetRecord"
                R_Saving="Saving"
                R_ServiceSave="@Save"
                R_AfterSave="AfterSave"
                R_BeforeDelete="@BeforeDelete"
                R_ServiceDelete="@Delete"
                R_AfterDelete="AfterDelete"
                R_DisableDeleteConfirmation>
            <R_GridColumns>
                <R_GridLookupColumn FieldName="@nameof(PMT06000OvtUnitDTO.CUNIT_ID)" HeaderText="@_localizer["UNIT_ID"]" R_EnableAdd Width="120px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridTextColumn FieldName="@nameof(PMT06000OvtUnitDTO.CUNIT_NAME)" HeaderText="@_localizer["UNIT_NAME"]" Width="200px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridTextColumn FieldName="@nameof(PMT06000OvtUnitDTO.CFLOOR_ID)" HeaderText="@_localizer["FLOOR"]" Width="200px" TextAlignment="R_eTextAlignment.Left"/>
                <R_GridNumericColumn TValue="decimal" FieldName="@nameof(PMT06000OvtUnitDTO.NGROSS_AREA_SIZE)" HeaderText="@_localizer["SQM"]" Width="120px" TextAlignment="R_eTextAlignment.Right" Decimals="2"/>
            </R_GridColumns>
        </R_Grid>
    </R_ItemLayout>
</R_StackLayout>

<R_ConductorGrid @ref="@_conductorRefUnit"
                 R_IsHeader
                 R_SetOther="SetOther"/>