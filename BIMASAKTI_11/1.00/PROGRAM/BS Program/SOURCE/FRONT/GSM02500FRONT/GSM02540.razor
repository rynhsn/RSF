@inherits R_Page
@attribute [R_Page(Title = "Other Unit")]
@using GSM02500COMMON.DTOs.GSM02500;
@using GSM02500COMMON.DTOs;
@using GSM02500COMMON.DTOs.GSM02540;
@using GSM02500COMMON.DTOs.GSM02541;
@using GSM02500MODEL
@using GSM02500MODEL.View_Model;

<R_StackLayout>
    <R_StackLayout Row>
        <R_ItemLayout col="2">
            <R_Label Class="fw-bold" FontSize="15">@_localizer["_Property"]</R_Label>
        </R_ItemLayout>

        <R_ItemLayout col="3">
            <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.SelectedProperty.CPROPERTY_ID"
                       R_ConductorSource="@_conductorOtherUnitTypeRef"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="7">
            <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.SelectedProperty.CPROPERTY_NAME"
                       R_ConductorSource="@_conductorOtherUnitTypeRef"
                       Enabled="false">
            </R_TextBox>
        </R_ItemLayout>
    </R_StackLayout>
</R_StackLayout>

<R_TabStrip OnActiveTabIndexChanging="OnActiveTabIndexChanging">
    <R_TabStripTab Title="@_localizer["_OtherUnitType"]" Id="UPT">

        <R_StackLayout Spacing="3" Row="true">

            @* Lay-Out Table Grid List *@
            <R_ItemLayout col="3">
                <R_Grid @ref="@_gridOtherUnitTypeRef"
                        DataSource="@loOtherUnitTypeViewModel.loOtherUnitTypeList"
                        R_ConductorSource="@_conductorOtherUnitTypeRef"
                        R_GridType="@R_eGridType.Navigator"
                        Height="330px"
                        R_ServiceGetListRecord="@Grid_R_ServiceGetOtherUnitTypeListRecord">
                    <R_GridColumns>
                        <R_GridTextColumn FieldName="@nameof(GSM02540DTO.COTHER_UNIT_TYPE_ID_NAME)" HeaderText="@_localizer["_OtherUnitType"]"></R_GridTextColumn>
                    </R_GridColumns>
                </R_Grid>
            </R_ItemLayout>
            @* Lay-Out Navigator *@
            <R_ItemLayout col="8">

                <R_StackLayout Row="true" Class="justify-content-end">
                    <R_ItemLayout col="1">
                        <R_CheckBox @bind-Value="@loOtherUnitTypeViewModel.Data.LACTIVE"
                                    R_ConductorSource="@_conductorOtherUnitTypeRef"
                                    Enabled="false">
                        </R_CheckBox>
                        <R_Label>@_localizer["_Active"]</R_Label>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row="true">
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_OtherUnitType"]*</R_Label>
                    </R_ItemLayout>

                    <R_ItemLayout col="3">
                        <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.Data.COTHER_UNIT_TYPE_ID"
                                   @ref="@OtherUnitTypeIdRef"
                                   R_ConductorSource="@_conductorOtherUnitTypeRef"
                                   MaxLength="20"
                                   R_EnableAdd="true"
                                   R_EnableEdit="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="7">
                        <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.Data.COTHER_UNIT_TYPE_NAME"
                                   @ref="@OtherUnitTypeNameRef"
                                   R_ConductorSource="@_conductorOtherUnitTypeRef"
                                   MaxLength="200"
                                   R_EnableAdd="true"
                                   R_EnableEdit="true">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row="true">
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Description"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="9">
                        <R_TextArea @bind-Value="@loOtherUnitTypeViewModel.Data.CDESCRIPTION"
                                    R_ConductorSource="@_conductorOtherUnitTypeRef"
                                    R_EnableAdd="true" R_EnableEdit="true"></R_TextArea>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_CheckBox @bind-Value="@loOtherUnitTypeViewModel.Data.LEVENT"
                                    R_ConductorSource="@_conductorOtherUnitTypeRef"
                                    R_EnableAdd="true" R_EnableEdit="true">
                        </R_CheckBox>
                        <R_Label>@_localizer["_Event"]</R_Label>
                    </R_ItemLayout>
                </R_StackLayout>
                
                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Department"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.Data.CDEPT_CODE"
                                   R_ConductorSource="@_conductorOtherUnitTypeRef"
                                   OnLostFocus="@OnLostFocusDepartment"
                                   MaxLength="20"
                                  R_EnableAdd
                                  R_EnableEdit>
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout Style="width: 25px">
                        <R_Lookup R_ConductorSource="@_conductorOtherUnitTypeRef"
                                  R_After_Open_Lookup="R_After_Open_Department_Lookup"
                                  R_Before_Open_Lookup="R_Before_Open_Department_Lookup"
                                  R_EnableAdd
                                  R_EnableEdit>...</R_Lookup>
                    </R_ItemLayout>
                    <R_ItemLayout col="6">
                        <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.Data.CDEPT_NAME"
                                   R_ConductorSource="@_conductorOtherUnitTypeRef"
                                   Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                
                <R_StackLayout Row="true">
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_PropertyType"]</R_Label>
                    </R_ItemLayout>

                    <R_ItemLayout col="4">
                        <R_ComboBox Data="@loOtherUnitTypeViewModel.loPropertyTypeList"
                                    @bind-Value="loOtherUnitTypeViewModel.Data.CPROPERTY_TYPE"
                                    ValueField="@nameof(GetPropertyTypeDTO.CCODE)"
                                    TextField="@nameof(GetPropertyTypeDTO.CDESCRIPTION)"
                                    R_ConductorSource="@_conductorOtherUnitTypeRef"
                                    R_EnableAdd="true" R_EnableEdit="true">
                        </R_ComboBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row="true" Class="mt-2">
                    <R_Label FontColor="R_eFontColor.Danger" FontStyle="R_eFontStyle.Bold" FontSize="15px">@_localizer["_DefaultSize"]</R_Label>
                </R_StackLayout>

                <R_StackLayout Row="true">
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_GrossAreaSize"]*</R_Label>
                    </R_ItemLayout>

                    <R_ItemLayout col="3">
                        <R_NumericTextBox @bind-Value="@loOtherUnitTypeViewModel.Data.NGROSS_AREA_SIZE"
                                          R_ConductorSource="@_conductorOtherUnitTypeRef"
                                          R_EnableAdd="true" R_EnableEdit="true">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_Label FontStyle="R_eFontStyle.Italic">@lcCUOMLabel</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_NetAreaSize"]*</R_Label>
                    </R_ItemLayout>

                    <R_ItemLayout col="3">
                        <R_NumericTextBox @bind-Value="@loOtherUnitTypeViewModel.Data.NNET_AREA_SIZE"
                                          R_ConductorSource="@_conductorOtherUnitTypeRef"
                                          R_EnableAdd="true" R_EnableEdit="true">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_Label FontStyle="R_eFontStyle.Italic">@lcCUOMLabel</R_Label>
                </R_StackLayout>

                <R_StackLayout Row="true">
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_UpdatedBy"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="4">
                        <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.Data.CUPDATE_BY"
                                   R_ConductorSource="@_conductorOtherUnitTypeRef"
                                   Enabled="false"></R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_Label>@_localizer["_Date"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                    </R_ItemLayout>
                    <R_ItemLayout col="4">
                        <R_DateTimePicker @bind-Value="@loOtherUnitTypeViewModel.Data.DUPDATE_DATE"
                                          R_ConductorSource="@_conductorOtherUnitTypeRef"
                                          Enabled="false"></R_DateTimePicker>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row="true">
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_CreatedBy"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="4">
                        <R_TextBox @bind-Value="@loOtherUnitTypeViewModel.Data.CCREATE_BY"
                                   R_ConductorSource="@_conductorOtherUnitTypeRef"
                                   Enabled="false"></R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_Label>@_localizer["_Date"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                    </R_ItemLayout>
                    <R_ItemLayout col="4">
                        <R_DateTimePicker @bind-Value="@loOtherUnitTypeViewModel.Data.DCREATE_DATE"
                                          R_ConductorSource="@_conductorOtherUnitTypeRef"
                                          Enabled="false"></R_DateTimePicker>
                    </R_ItemLayout>
                </R_StackLayout>

            </R_ItemLayout>

        </R_StackLayout>


        <R_StackLayout Row Class="justify-content-between">
            <R_ItemLayout>
                <R_AddButton R_Conductor="@_conductorOtherUnitTypeRef"></R_AddButton>
                <R_EditButton R_Conductor="@_conductorOtherUnitTypeRef"></R_EditButton>
                <R_DeleteButton R_Conductor="@_conductorOtherUnitTypeRef"></R_DeleteButton>
            </R_ItemLayout>
            <R_ItemLayout>
                <R_Button R_ConductorSource="@_conductorOtherUnitTypeRef"
                          R_EnableOther
                          OnClick="OnClickTemplate">@_localizer["_Template"]</R_Button>
                <R_Popup R_ConductorSource="@_conductorOtherUnitTypeRef"
                         R_EnableOther
                         R_Before_Open_Popup="Before_Open_Upload_Popup"
                         R_After_Open_Popup="After_Open_Upload_Popup">@_localizer["_Upload"]</R_Popup>
                <R_Popup R_ConductorSource="@_conductorOtherUnitTypeRef"
                         R_Before_Open_Popup="@R_Before_Open_Popup_ActivateInactiveOtherUnitType"
                         R_After_Open_Popup="@R_After_Open_Popup_ActivateInactiveOtherUnitType"
                         R_EnableOther>@loOtherUnitTypeLabel</R_Popup>
            </R_ItemLayout>
            <R_ItemLayout>
                <R_CancelButton R_Conductor="@_conductorOtherUnitTypeRef"></R_CancelButton>
                <R_SaveButton R_Conductor="@_conductorOtherUnitTypeRef"></R_SaveButton>
            </R_ItemLayout>
        </R_StackLayout>

    </R_TabStripTab>
    <R_TabStripTab Title="@_localizer["_OtherUnit"]" Id="UP" Enabled="@IsOtherUnitTypeListExist">
        <R_TabPage R_Before_Open_TabPage="R_Before_OpenOtherUnit_TabPage" R_TabEventCallback="@R_TabEventCallback">
            <GSM02541></GSM02541>
        </R_TabPage>
    </R_TabStripTab>
</R_TabStrip>

<R_Conductor @ref="@_conductorOtherUnitTypeRef"
             R_ViewModel="@loOtherUnitTypeViewModel"
             R_ServiceSave="@Grid_ServiceSaveOtherUnitType"
             R_Saving="Grid_SavingOtherUnitType"
             R_Display="Grid_DisplayOtherUnitType"
             R_ServiceDelete="@Grid_ServiceDeleteOtherUnitType"
             R_AfterDelete="Grid_AfterDeleteOtherUnitType"
             R_Validation="Grid_ValidationOtherUnitType"
             R_AfterAdd="@Grid_AfterAddOtherUnitType"
             R_ConvertToGridEntity="Grid_ConvertToGridEntityOtherUnitType"
             R_AfterSave="@Grid_AfterSaveOtherUnitType"
             R_IsHeader="true"
             R_ServiceGetRecord="@Grid_ServiceGetOtherUnitTypeRecord">
</R_Conductor>


