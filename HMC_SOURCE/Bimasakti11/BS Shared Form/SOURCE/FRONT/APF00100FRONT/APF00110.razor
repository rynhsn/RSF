@inherits R_Page
@attribute [R_Page(Title = "Allocation Entry")]
@using APF00100COMMON.DTOs.APF00100
@using APF00100COMMON.DTOs.APF00110
@using APF00100Model

<R_StackLayout Style="@PageWidth">
    <R_StackLayout Row>
        <R_ItemLayout col="2">
            <R_Label>@_localizer["_TransactionType"]*</R_Label>
        </R_ItemLayout>

        <R_ItemLayout col="6">
            <R_ComboBox Data="@loViewModel.loTransactionTypeList"
                        Value="@loViewModel.Data.CTARGET_TRANS_CODE"
                        ValueField="@nameof(GetTransactionTypeDTO.CTRANS_CODE)"
                        TextField="@nameof(GetTransactionTypeDTO.CTRANSACTION_NAME)"
                        ValueChanged="@((string value) => TransactionType_ValueChanged(value))"
                        R_ConductorSource="@_conductorRef"
                        R_EnableAdd
                        R_EnableEdit>
            </R_ComboBox>
        </R_ItemLayout>
        
        <R_ItemLayout col="2">
            <R_Label FontSize="15px" FontStyle="R_eFontStyle.Bold" FontColor="R_eFontColor.Primary">
                @loViewModel.Data.CTRANS_STATUS_NAME
            </R_Label>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout col="2">
            <R_Label>@_localizer["_ReferenceNo"]</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="3">
            <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_REF_NO"
                       R_ConductorSource="@_conductorRef"
                       R_EnableAdd R_EnableEdit>
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="0">
            <R_Lookup R_ConductorSource="@_conductorRef"
                      R_Before_Open_Lookup="@R_Before_Open_LookupReferenceNo"
                      R_After_Open_Lookup="@R_After_Open_LookupReferenceNo"
                      R_EnableAdd
                      R_EnableEdit>...</R_Lookup>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>@_localizer["_RefDate"]</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_DatePicker @bind-Value="@loViewModel.Data.DTARGET_REF_DATE"
                          R_ConductorSource="@_conductorRef"
                          R_EnableAdd>
            </R_DatePicker>
        </R_ItemLayout>
    </R_StackLayout>
    
    <R_StackLayout Row>
        <R_ItemLayout col="2">
            <R_Label>@_localizer["_Department"]</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_DEPT_CODE"
                       R_ConductorSource="@_conductorRef"
                       R_EnableAdd R_EnableEdit>
            </R_TextBox>
        </R_ItemLayout>
        <R_ItemLayout col="4">
            <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_DEPT_NAME"
                       R_ConductorSource="@_conductorRef"
                       R_EnableAdd R_EnableEdit>
            </R_TextBox>
        </R_ItemLayout>
    </R_StackLayout>

    <R_StackLayout Row>
        <R_ItemLayout col="2">
            <R_Label>@_localizer["_AllocationDate"]</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_DatePicker @bind-Value="@loViewModel.Data.DREF_DATE"
                       R_ConductorSource="@_conductorRef"
                       R_EnableAdd R_EnableEdit>
            </R_DatePicker>
        </R_ItemLayout>
        <R_ItemLayout col="1">
            <R_Label>@_localizer["_AllocRefNo"]</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="3">
            <R_TextBox @bind-Value="@loViewModel.Data.CREF_NO"
                       R_ConductorSource="@_conductorRef"
                       R_EnableAdd R_EnableEdit>
            </R_TextBox>
        </R_ItemLayout>
    </R_StackLayout>
    
    <R_GroupBox Title="">
        <R_StackLayout Row>
            <R_ItemLayout col="7">
                <R_StackLayout Row>
                    <R_ItemLayout col="2"></R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_Label FontColor="R_eFontColor.Primary" FontSize="14px">@_localizer["_Transaction"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_Label FontColor="R_eFontColor.Primary" FontSize="14px">@_localizer["_Local"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="3">
                        <R_Label FontColor="R_eFontColor.Primary" FontSize="14px">@_localizer["_Base"]</R_Label>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Amount"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox   Value="@loViewModel.Data.NTARGET_AMOUNT"
                                            Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            ValueChanged="@((decimal value) => TargetAmount_ValueChanged(value))"
                                            R_EnableAdd R_EnableEdit>
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_AMOUNT"
                                          Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Remaining"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NTARGET_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_TaxAmount"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox Value="@loViewModel.Data.NTARGET_TAX_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            ValueChanged="@((decimal value) => TargetTaxAmount_ValueChanged(value))"
                                                R_EnableAdd R_EnableEdit>
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_TAX_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_TAX_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Remaining"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NTARGET_TAX_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_TAX_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_TAX_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Discount"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox Value="@loViewModel.Data.NTARGET_DISC_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            ValueChanged="@((decimal value) => TargetDiscountAmount_ValueChanged(value))"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_DISC_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_DISC_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_TotalRemaining"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NTARGET_TOTAL_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_TOTAL_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_TOTAL_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
            <R_ItemLayout col="5">
                <R_StackLayout Row>
                    <R_ItemLayout col="11">

                        <R_StackLayout Row>
                            <R_ItemLayout col="12">
                                <R_Label></R_Label>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="3">
                                <R_Label>@_localizer["_LocalCurrency"]</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_BASE_RATE"
                                        Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="0">
                                <R_Label>=</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="3">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NLTARGET_CURRENCY_RATE"
                                        Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="3">
                                <R_Label>@_localizer["_BaseCurrency"]</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_BASE_RATE"
                                        Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="0">
                                <R_Label>=</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="3">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NBTARGET_CURRENCY_RATE"
                                        Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="3">
                                <R_Label>@_localizer["_TaxRate"]</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NTARGET_TAX_BASE_RATE"
                                        Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="0">
                                <R_Label>=</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="3">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NTARGET_TAX_CURRENCY_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="12">
                                <R_Label></R_Label>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="10">
                                <R_Label FontStyle="R_eFontStyle.Bold">@_localizer["_TotalAllocationAmount"]</R_Label>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="4">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NTARGET_ALLOCATION"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CTARGET_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
        </R_StackLayout>
    </R_GroupBox>

    <R_GroupBox Title="@loViewModel.loHeader.CTRANSACTION_NAME">
        <R_StackLayout Row>
            <R_ItemLayout col="7">
                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Amount"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox Value="@loViewModel.Data.NCALLER_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            ValueChanged="@((decimal value) => CallerAmount_ValueChanged(value))"
                                                R_EnableAdd R_EnableEdit>
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Remaining"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NCALLER_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_TaxAmount"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox Value="@loViewModel.Data.NCALLER_TAX_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            ValueChanged="@((decimal value) => CallerTaxAmount_ValueChanged(value))"
                                                R_EnableAdd R_EnableEdit>
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_TAX_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_TAX_AMOUNT"
                                          Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Remaining"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NCALLER_TAX_REMAINING"
                                          Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_TAX_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_TAX_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_Discount"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox Value="@loViewModel.Data.NCALLER_DISC_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            ValueChanged="@((decimal value) => CallerDiscountAmount_ValueChanged(value))"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_DISC_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_DISC_AMOUNT"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>

                <R_StackLayout Row>
                    <R_ItemLayout col="2">
                        <R_Label>@_localizer["_TotalRemaining"]</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NCALLER_TOTAL_REMAINING"
                                          Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_TOTAL_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="0">
                        <R_Label>=</R_Label>
                    </R_ItemLayout>
                    <R_ItemLayout col="2">
                        <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_TOTAL_REMAINING"
                                        Arrows="false"
                                            R_ConductorSource="@_conductorRef"
                                            Enabled="false">
                        </R_NumericTextBox>
                    </R_ItemLayout>
                    <R_ItemLayout col="1">
                        <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                    R_ConductorSource="@_conductorRef"
                                    Enabled="false">
                        </R_TextBox>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
            <R_ItemLayout col="5">
                <R_StackLayout Row>
                    <R_ItemLayout col="11">
                        <R_StackLayout Row>
                            <R_ItemLayout col="3">
                                <R_Label>@_localizer["_LocalCurrency"]</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_BASE_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="0">
                                <R_Label>=</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="3">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NLCALLER_CURRENCY_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="3">
                                <R_Label>@_localizer["_TaxRate"]</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NCALLER_TAX_BASE_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="0">
                                <R_Label>=</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="3">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NCALLER_TAX_CURRENCY_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="3">
                                <R_Label>@_localizer["_BaseCurrency"]</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_BASE_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="0">
                                <R_Label>=</R_Label>
                            </R_ItemLayout>
                            <R_ItemLayout col="3">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NBCALLER_CURRENCY_RATE"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>

                        <R_StackLayout Row></R_StackLayout>

                        <R_StackLayout Row>
                            <R_ItemLayout col="10">
                                <R_Label FontStyle="R_eFontStyle.Bold">@_localizer["_TotalFromAmount"]</R_Label>
                            </R_ItemLayout>
                        </R_StackLayout>
                        <R_StackLayout Row>
                            <R_ItemLayout col="4">
                                <R_NumericTextBox @bind-Value="@loViewModel.Data.NCALLER_ALLOCATION"
                                                  Arrows="false"
                                                  R_ConductorSource="@_conductorRef"
                                                  Enabled="false">
                                </R_NumericTextBox>
                            </R_ItemLayout>
                            <R_ItemLayout col="2">
                                <R_TextBox @bind-Value="@loViewModel.Data.CCALLER_CURRENCY_CODE"
                                           R_ConductorSource="@_conductorRef"
                                           Enabled="false">
                                </R_TextBox>
                            </R_ItemLayout>
                        </R_StackLayout>
                    </R_ItemLayout>
                </R_StackLayout>
            </R_ItemLayout>
        </R_StackLayout>
    </R_GroupBox>

    <R_StackLayout Row>
        <R_ItemLayout col="7">
            <R_StackLayout Row>
                <R_ItemLayout col="2">
                    <R_Label></R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="3">
                    <R_Label>@_localizer["_ForeignGain"]</R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="2">
                    <R_NumericTextBox @bind-Value="@loViewModel.Data.NLFOREX_GAINLOSS"
                                        Arrows="false"
                                        R_ConductorSource="@_conductorRef"
                                        Enabled="false">
                    </R_NumericTextBox>
                </R_ItemLayout>
                <R_ItemLayout col="1">
                    <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CLOCAL_CURRENCY_CODE"
                                R_ConductorSource="@_conductorRef"
                                Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="0">
                    <R_Label>=</R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="2">
                    <R_NumericTextBox @bind-Value="@loViewModel.Data.NBFOREX_GAINLOSS"
                                      Arrows="false"
                                        R_ConductorSource="@_conductorRef"
                                        Enabled="false">
                    </R_NumericTextBox>
                </R_ItemLayout>
                <R_ItemLayout col="1">
                    <R_TextBox @bind-Value="@loViewModel.loCompanyInfo.CBASE_CURRENCY_CODE"
                                R_ConductorSource="@_conductorRef"
                                Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
        <R_ItemLayout col="5">
            <R_StackLayout Row>
                <R_ItemLayout col="1"></R_ItemLayout>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_CreateBy"]</R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="3">
                    <R_TextBox @bind-Value="@loViewModel.Data.CCREATE_BY"
                                R_ConductorSource="@_conductorRef"
                                Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="5">
                    <R_DateTimePicker @bind-Value="@loViewModel.Data.DCREATE_DATE"
                                      R_ConductorSource="@_conductorRef"
                                      ShowPickerButton="false"
                                        Enabled="false">
                    </R_DateTimePicker>
                </R_ItemLayout>
            </R_StackLayout>
            <R_StackLayout Row>
                <R_ItemLayout col="1"></R_ItemLayout>
                <R_ItemLayout col="2">
                    <R_Label>@_localizer["_UpdatedBy"]</R_Label>
                </R_ItemLayout>
                <R_ItemLayout col="3">
                    <R_TextBox @bind-Value="@loViewModel.Data.CUPDATE_BY"
                               R_ConductorSource="@_conductorRef"
                               ShowPickerButton="false"
                                Enabled="false">
                    </R_TextBox>
                </R_ItemLayout>
                <R_ItemLayout col="5">
                    <R_DateTimePicker @bind-Value="@loViewModel.Data.DUPDATE_DATE"
                                        R_ConductorSource="@_conductorRef"
                                        Enabled="false">
                    </R_DateTimePicker>
                </R_ItemLayout>
            </R_StackLayout>
        </R_ItemLayout>
    </R_StackLayout>
        
    <div hidden="@IsCRUDModeButtonHidden">
        <R_StackLayout Row Class="justify-content-between">
            <R_ItemLayout>
                <R_AddButton R_Conductor="@_conductorRef"></R_AddButton>
                <R_EditButton R_Conductor="@_conductorRef" Enabled="@IsTransStatus00"></R_EditButton>
                <R_DeleteButton R_Conductor="@_conductorRef" Enabled="@IsTransStatus00"></R_DeleteButton>
            </R_ItemLayout>
            <R_ItemLayout>
                <R_Button R_ConductorSource="@_conductorRef" OnClick="OnClickSubmit" Enabled="@IsTransStatus00">@_localizer["_Submit"]</R_Button>
                <R_Button R_ConductorSource="@_conductorRef" OnClick="OnClickRedraft" Enabled="@IsTransStatus10">@_localizer["_Redraft"]</R_Button>
                <R_Popup R_ConductorSource="@_conductorRef" Enabled="@IsJournalButtonEnabled" R_Before_Open_Popup="Before_Open_Journal_Popup" R_After_Open_Popup="After_Open_Journal_Popup">@_localizer["_Journal"]</R_Popup>
            </R_ItemLayout>
            <R_ItemLayout>
                <R_CancelButton R_Conductor="@_conductorRef"></R_CancelButton>
                <R_SaveButton R_Conductor="@_conductorRef"></R_SaveButton>
            </R_ItemLayout> 
        </R_StackLayout>
    </div>
            
    <div hidden="@(!IsCRUDModeButtonHidden)">
        <R_StackLayout Row Class="justify-content-end">
            <R_ItemLayout>
                <R_Button R_ConductorSource="@_conductorRef" R_EnableOther OnClick="OnClickClose">@_localizer["_Close"]</R_Button>
            </R_ItemLayout> 
        </R_StackLayout>
    </div>
</R_StackLayout>

<R_Conductor @ref="@_conductorRef"
             R_ViewModel="@loViewModel"
             R_BeforeAdd="Allocation_BeforeAdd"
             R_AfterAdd="Allocation_AfterAdd"
             R_Saving="Allocation_Saving"
             R_BeforeEdit="Allocation_BeforeEdit"
             R_BeforeCancel="Allocation_BeforeCancel"
             R_BeforeDelete="Allocation_BeforeDelete"
             R_AfterSave="Allocation_AfterSave"
             R_SetOther="Allocation_SetOther"
             R_ServiceGetRecord="Allocation_ServiceGetRecord"
             R_ServiceSave="Allocation_ServiceSave"
             R_ServiceDelete="Allocation_ServiceDelete"
             R_AfterDelete="Allocation_AfterDelete"
             R_DisableDeleteConfirmation="true"
             R_IsHeader="true" />