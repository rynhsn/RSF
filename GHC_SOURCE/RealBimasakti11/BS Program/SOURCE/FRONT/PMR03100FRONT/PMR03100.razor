@page "/PMR03100"
@using PMR03100COMMON.DTO_s
@inherits R_Page
@attribute [R_Page(ResourceId = "_pageTitle", Title = "AR Collection")]

<R_StackLayout Class="ps-3">
    @* property *@
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>
                @_localizer["_label_Property"]
            </R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="4">
            <R_ComboBox Data="@_viewModel.PropertyList"
                        @bind-Value="@_viewModel.ReportParam.CPROPERTY_ID"
                        ValueField="@nameof(PropertyDTO.CPROPERTY_ID)"
                        TextField="@nameof(PropertyDTO.CPROPERTY_NAME)"
                        TabIndex="0">
            </R_ComboBox>
        </R_ItemLayout>
        <R_ItemLayout col="6" />
    </R_StackLayout>

    @* cutoff *@
    <R_StackLayout Row>
        <R_ItemLayout col="1">
            <R_Label>@_localizer["_label_cutoffyear"]</R_Label>
        </R_ItemLayout>
        <R_ItemLayout col="2">
            <R_NumericTextBox @bind-Value="_viewModel.PickedPeriodYear"
                              TValue="int"
                              Max="_viewModel.PeriodYearRange.IMAX_YEAR"
                              Min="_viewModel.PeriodYearRange.IMIN_YEAR"
                              ThousandSeparator="false"
                              Arrows="true"
                              TabIndex="1" />
        </R_ItemLayout>
    </R_StackLayout>

    @* button *@
    <R_StackLayout Row>
        <R_ItemLayout>
            <R_Button OnClick="@BtnPrint_OnclickAsync"
                      TabIndex="2">@_localizer["_btn_print"]</R_Button>
        </R_ItemLayout>
        <R_ItemLayout>
            <R_Popup R_Before_Open_Popup="@BeforeOpen_PopupSaveAsAsync"
                     R_After_Open_Popup="@AfterOpen_PopupSaveAsAsync"
                     TabIndex="3">@_localizer["_btn_saveAs"]</R_Popup>
        </R_ItemLayout>
    </R_StackLayout>
</R_StackLayout>